<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for contracts/libraries/Tokens.sol</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../prettify.css" />
    <link rel="stylesheet" href="../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../index.html">all files</a> / <a href="index.html">contracts/libraries/</a> Tokens.sol
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>0/59</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/50</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>0/9</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>0/58</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">// DO NOT EDIT DIRECTLY - generated by yarn build:sol:library:token as inline copy of Tokens.sol
&nbsp;
pragma solidity ^0.6.1;
pragma experimental ABIEncoderV2;
&nbsp;
import {IERC20} from './Interfaces.sol';
import {SafeMath256} from './SafeMath256.sol';
&nbsp;
library Tokens {
  struct Token {
    bool exists;
    address tokenAddress;
    string symbol;
    uint8 decimals;
    bool isConfirmed;
    uint64 confirmedAt; // ms since Unix epoch
  }
&nbsp;
  struct Storage {
    mapping(address =&gt; Token) tokensByAddress;
    // The same symbol can be re-used for a different token
    mapping(string =&gt; Token[]) tokensBySymbol;
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  function registerToken(</span>
    Storage storage self,
    address tokenAddress,
    string memory symbol,
    uint8 decimals
  ) internal {
<span class="cstat-no" title="statement not covered" >    require(</span>
      !self.tokensByAddress[tokenAddress].isConfirmed,
      'Registration of this token is already finalized'
    );
<span class="cstat-no" title="statement not covered" >    require(decimals &lt;= 18, 'Decimals cannot exceed 18')</span>;
<span class="cstat-no" title="statement not covered" >    self.tokensByAddress[tokenAddress] = Token({</span>
      exists: true,
      tokenAddress: tokenAddress,
      symbol: symbol,
      decimals: decimals,
      isConfirmed: false,
      confirmedAt: 0
    });
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  function confirmTokenRegistration(</span>
    Storage storage self,
    address tokenAddress,
    string memory symbol,
    uint8 decimals
  ) internal {
<span class="cstat-no" title="statement not covered" >    Token memory token = self.tokensByAddress[tokenAddress];</span>
<span class="cstat-no" title="statement not covered" >    require(token.exists, 'Unknown token')</span>;
<span class="cstat-no" title="statement not covered" >    require(!token.isConfirmed, 'Registration of this token is already finalized')</span>;
<span class="cstat-no" title="statement not covered" >    require(isStringEqual(token.symbol, symbol), 'Symbols do not match')</span>;
<span class="cstat-no" title="statement not covered" >    require(token.decimals == decimals, 'Decimals do not match')</span>;
&nbsp;
<span class="cstat-no" title="statement not covered" >    token.isConfirmed = true</span>;
<span class="cstat-no" title="statement not covered" >    token.confirmedAt = uint64(block.timestamp * 1000)</span>; // Block timestamp is seconds, store ms
<span class="cstat-no" title="statement not covered" >    self.tokensByAddress[tokenAddress] = token</span>;
<span class="cstat-no" title="statement not covered" >    self.tokensBySymbol[symbol].push(token)</span>;
  }
&nbsp;
  /**
    * Resolves a token symbol into corresponding asset address
    *
    * @param symbol Token symbol, e.g. 'IDEX'
    * @param timestamp Milliseconds since Unix epoch, usually parsed from a UUID v1 order nonce.
    *                  Constrains symbol resolution to the token most recently confirmed prior to
                       timestamp. Reverts if no such token exists
    * @return assetAddress
    */
<span class="fstat-no" title="function not covered" >  function tokenSymbolToAddress(Storage storage self, string memory symbol, uint64 timestamp)</span>
    internal
    view
    returns (address)
  {
<span class="cstat-no" title="statement not covered" >    Token memory token;</span>
<span class="cstat-no" title="statement not covered" >    if (isStringEqual('ETH', symbol)) {</span>
<span class="cstat-no" title="statement not covered" >      return address(0x0);</span>
    } else <span class="cstat-no" title="statement not covered" >if (self.tokensBySymbol[symbol].length &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >      for (uint8 i = 0; i &lt; self.tokensBySymbol[symbol].length; i++) {</span>
<span class="cstat-no" title="statement not covered" >        if (self.tokensBySymbol[symbol][i].confirmedAt &lt; timestamp) {</span>
<span class="cstat-no" title="statement not covered" >          token = self.tokensBySymbol[symbol][i]</span>;
        }
      }
    }
<span class="cstat-no" title="statement not covered" >    require(token.exists, 'No token found for symbol')</span>;
&nbsp;
<span class="cstat-no" title="statement not covered" >    return token.tokenAddress;</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  function pipsToTokenQuantity(Storage storage self, uint64 quantityInPips, address tokenAddress)</span>
    internal
    view
    returns (uint256 tokenQuantity)
  {
<span class="cstat-no" title="statement not covered" >    if (tokenAddress == address(0x0)) {</span>
<span class="cstat-no" title="statement not covered" >      return pipsToTokenQuantity(quantityInPips, 18);</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    Token memory token = self.tokensByAddress[tokenAddress];</span>
<span class="cstat-no" title="statement not covered" >    require(token.exists, 'Unknown token')</span>;
&nbsp;
<span class="cstat-no" title="statement not covered" >    return pipsToTokenQuantity(quantityInPips, token.decimals);</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  function transferFromWallet(</span>
    Storage storage self,
    address payable wallet,
    address tokenAddress,
    uint256 tokenQuantity
  ) internal returns (uint64 quantityInPips) {
<span class="cstat-no" title="statement not covered" >    if (tokenAddress == address(0x0)) {</span>
<span class="cstat-no" title="statement not covered" >      quantityInPips = tokenQuantityToPips(tokenQuantity, 18)</span>;
    } else {
<span class="cstat-no" title="statement not covered" >      quantityInPips = tokenQuantityToPips(</span>
        tokenQuantity,
        self.tokensByAddress[tokenAddress].decimals
      );
    }
<span class="cstat-no" title="statement not covered" >    require(quantityInPips &gt; 0, 'Quantity is too low')</span>;
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (tokenAddress == address(0x0)) {</span>
<span class="cstat-no" title="statement not covered" >      return quantityInPips;</span>
    }
&nbsp;
    // Convert back to token qty to prevent transferring fractions of pips
<span class="cstat-no" title="statement not covered" >    uint256 tokenQuantityInPipPrecision = pipsToTokenQuantity(</span>
      quantityInPips,
      self.tokensByAddress[tokenAddress].decimals
    );
&nbsp;
<span class="cstat-no" title="statement not covered" >    uint256 balanceBefore = IERC20(tokenAddress).balanceOf(address(this));</span>
<span class="cstat-no" title="statement not covered" >    require(</span>
      IERC20(tokenAddress).transferFrom(wallet, address(this), tokenQuantityInPipPrecision),
      'Token transfer failed'
    );
<span class="cstat-no" title="statement not covered" >    uint256 balanceAfter = IERC20(tokenAddress).balanceOf(address(this));</span>
<span class="cstat-no" title="statement not covered" >    uint256 result = SafeMath256.sub(balanceAfter, balanceBefore);</span>
<span class="cstat-no" title="statement not covered" >    require(</span>
      result == tokenQuantityInPipPrecision,
      'Token contract returned transferFrom success without expected balance change'
    );
<span class="cstat-no" title="statement not covered" >    return quantityInPips;</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  function transferToWallet(</span>
    Storage storage self,
    address payable wallet,
    address tokenAddress,
    uint64 quantityInPips
  ) internal {
<span class="cstat-no" title="statement not covered" >    if (tokenAddress == address(0x0)) {</span>
<span class="cstat-no" title="statement not covered" >      require(wallet.send(pipsToTokenQuantity(quantityInPips, 18)), 'Failed to transfer ether')</span>;
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
<span class="cstat-no" title="statement not covered" >    require(</span>
      self.tokensByAddress[tokenAddress].isConfirmed,
      'Unknown token or registration not finalized'
    );
<span class="cstat-no" title="statement not covered" >    uint256 tokenQuantity = pipsToTokenQuantity(</span>
      quantityInPips,
      self.tokensByAddress[tokenAddress].decimals
    );
&nbsp;
<span class="cstat-no" title="statement not covered" >    uint256 balanceBefore = IERC20(tokenAddress).balanceOf(address(this));</span>
<span class="cstat-no" title="statement not covered" >    require(IERC20(tokenAddress).transfer(wallet, tokenQuantity), 'Failed to transfer token')</span>;
<span class="cstat-no" title="statement not covered" >    uint256 balanceAfter = IERC20(tokenAddress).balanceOf(address(this));</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    uint256 result = SafeMath256.sub(balanceBefore, balanceAfter);</span>
<span class="cstat-no" title="statement not covered" >    require(</span>
      result == tokenQuantity,
      'Token contract returned transfer success without expected balance change'
    );
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  function tokenQuantityToPips(uint256 tokenQuantity, uint256 tokenDecimals)</span>
    internal
    pure
    returns (uint64)
  {
<span class="cstat-no" title="statement not covered" >    uint256 quantityInPips;</span>
<span class="cstat-no" title="statement not covered" >    if (tokenDecimals &gt; 8) {</span>
<span class="cstat-no" title="statement not covered" >      quantityInPips = tokenQuantity / uint256(10)**(tokenDecimals - 8)</span>;
    } else {
<span class="cstat-no" title="statement not covered" >      quantityInPips = tokenQuantity * uint256(10)**(8 - tokenDecimals)</span>;
    }
<span class="cstat-no" title="statement not covered" >    require(quantityInPips &lt; 2**64, 'Pip quantity overflows uint64')</span>;
&nbsp;
<span class="cstat-no" title="statement not covered" >    return uint64(quantityInPips);</span>
  }
&nbsp;
<span class="fstat-no" title="function not covered" >  function pipsToTokenQuantity(uint64 quantityInPips, uint64 tokenDecimals)</span>
    internal
    pure
    returns (uint256 tokenQuantity)
  {
<span class="cstat-no" title="statement not covered" >    if (tokenDecimals &gt; 8) {</span>
<span class="cstat-no" title="statement not covered" >      return quantityInPips * uint256(10)**(tokenDecimals - 8);</span>
    }
<span class="cstat-no" title="statement not covered" >    return quantityInPips / uint256(10)**(8 - tokenDecimals);</span>
  }
&nbsp;
  // See https://solidity.readthedocs.io/en/latest/types.html#bytes-and-strings-as-arrays
<span class="fstat-no" title="function not covered" >  function isStringEqual(string memory a, string memory b) internal pure returns (bool) </span>{
<span class="cstat-no" title="statement not covered" >    return keccak256(abi.encodePacked(a)) == keccak256(abi.encodePacked(b));</span>
  }
}
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Tue May 05 2020 10:16:07 GMT-0700 (Pacific Daylight Time)
</div>
</div>
<script src="../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../sorter.js"></script>
</body>
</html>
